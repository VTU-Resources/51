<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>18CS55 – Brilliant Students (Responsive)</title>
  <style>
    :root{
      --bg-1:#003b1f;
      --bg-2:#002e18;
      --card:#06482e;
      --gold:#f4c06f;
      --gold-2:#ffd58a;
      --text:#f0f6ec;
      --muted:#cfe3d1;
      --shadow: rgba(0,0,0,0.24);
    }

    /* Reset and base */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{font-family:"Segoe UI",Tahoma,Arial,sans-serif;background:linear-gradient(180deg,var(--bg-1),var(--bg-2));color:var(--text);-webkit-font-smoothing:antialiased;overflow-x:hidden}

    /* Page wrapper */
    .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:18px}
    .card{width:100%;max-width:980px;background:var(--card);border-radius:14px;padding:20px 20px 28px;box-shadow:0 12px 36px var(--shadow);border:1px solid rgba(255,255,255,0.03)}

    /* Header */
    .header{display:flex;align-items:center;gap:16px}
    .logo{width:78px;height:78px;border-radius:50%;border:3px solid var(--gold);object-fit:cover}
    .head-text{display:flex;flex-direction:column}
    .subject{font-size:20px;font-weight:700;color:var(--gold);line-height:1}
    .subtext{font-size:13px;color:var(--muted);margin-top:4px}

    /* Choice cards */
    .intro{margin-top:16px;font-size:13px;color:var(--muted)}
    .choice-row{display:flex;gap:14px;margin-top:16px;flex-wrap:wrap}
    .choice{flex:1 1 260px;background:linear-gradient(180deg,#045a36,#006640);padding:16px;border-radius:11px;border-left:6px solid var(--gold);cursor:pointer;transition:transform .18s ease, box-shadow .18s ease}
    .choice:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(0,0,0,0.28)}
    .choice .title{font-weight:700;color:var(--gold);font-size:15px}
    .choice .desc{font-size:12px;color:var(--muted);margin-top:6px}

    /* result area */
    #result{margin-top:18px}

    /* Module list */
    .module-list{margin-top:18px;display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
    .module-card{background:#1a3329;padding:12px 14px;border-radius:12px;display:flex;align-items:center;justify-content:space-between;cursor:pointer;border-left:6px solid var(--gold);transition:transform .12s ease}
    .module-card:hover{transform:translateY(-4px)}
    .module-title{font-weight:700;color:var(--gold);font-size:14px;display:flex;align-items:center;gap:10px}
    .module-arrow{font-size:16px;color:var(--gold)}

    /* Exact answers theme (applies when exact-mode) */
    .exact-theme .module-card{background:#283a35;border-left-color:var(--gold-2)}
    .exact-theme .module-title{color:var(--gold-2)}

    /* Footer */
    footer{margin-top:18px;font-size:12px;color:#bfcfbf;text-align:center}

    /* Overlay - code input */
    .overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.55);z-index:80;padding:18px}
    .prompt{width:100%;max-width:420px;background:var(--card);border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 12px 30px rgba(0,0,0,0.45)}
    .prompt h3{font-size:16px;color:var(--gold);margin-bottom:8px}
    .prompt p{font-size:13px;color:var(--muted);margin-bottom:12px}
    .code-row{display:flex;gap:8px}
    .code-row input{flex:1;padding:12px 14px;border-radius:10px;border:1px solid rgba(0,0,0,0.3);font-size:15px;color:#08221a;background:#fff;outline:none}
    .code-row input:focus{box-shadow:0 6px 18px rgba(0,0,0,0.35);border-color:rgba(0,0,0,0.45)}
    .row-actions{display:flex;gap:8px;margin-top:12px}
    .btn{padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
    .btn.primary{background:var(--gold);color:#052}
    .btn.ghost{background:transparent;color:var(--gold);border:1px solid rgba(255,255,255,0.04)}
    .error{color:#ffb3b3;margin-top:8px;font-size:13px}

    /* Loader screen */
    .loader{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:linear-gradient(180deg,#001b12,#00221a);z-index:90;padding:18px}
    .terminal{width:100%;max-width:520px;background:#05130a;color:#bff9d4;border-radius:12px;padding:18px;box-shadow:0 16px 50px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.02);font-family:ui-monospace,SFMono-Regular,Menlo,monospace}
    .term-head{display:flex;align-items:center;gap:12px}
    .term-head img{width:40px;height:40px;border-radius:8px;border:1px solid rgba(255,255,255,0.03)}
    .typed{white-space:pre-wrap;font-size:14px;min-height:72px;margin-top:12px}
    .progress{height:8px;background:#072a1f;border-radius:8px;margin-top:12px;overflow:hidden}
    .progress>i{width:0%;height:100%;background:linear-gradient(90deg,#a9f7c6,#4adf9a);display:block;transition:width .5s ease}
    .loader-cancel{margin-top:12px;background:#ff5a5a;border-radius:8px;padding:10px 12px;border:none;color:white;cursor:pointer}

    /* Responsive adjustments */
    @media (max-width:640px){
      .header{flex-direction:column;align-items:center;text-align:center}
      .logo{width:64px;height:64px}
      .subject{font-size:18px}
      .choice{padding:12px}
      .module-title{font-size:13px}
      .prompt{padding:14px}
      .code-row input{padding:10px;font-size:14px}
      .terminal{padding:14px}
      .typed{font-size:13px}
    }

    /* prevent browser autofill weirdness */
    input:-webkit-autofill, input:-webkit-autofill:hover, input:-webkit-autofill:focus{box-shadow:0 0 0 30px #fff inset !important;-webkit-text-fill-color:#052 !important}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="app">
      <div class="header">
        <img src="1.png" class="logo" alt="logo">
        <div class="head-text">
          <div class="subject">Subject Code: 18CS55</div>
          <div class="subtext">Application Development using Python</div>
        </div>
      </div>

      <div class="intro">Choose an option below to continue</div>

      <div class="choice-row">
        <div class="choice" id="btn-most" onclick="start('most')">
          <div class="title">Most Important Questions</div>
          <div class="desc">Shortlist of highest priority questions for last-minute revision</div>
        </div>

        <div class="choice" id="btn-exact" onclick="start('exact')">
          <div class="title">Exact Answers for All Questions</div>
          <div class="desc">Complete answers with a slightly different visual style</div>
        </div>
      </div>

      <div id="result"></div>

      <footer>© 2025 Brilliant Students</footer>
    </div>
  </div>

  <!-- access code overlay -->
  <div id="overlay" class="overlay" role="dialog" aria-modal="true">
    <div class="prompt">
      <h3>Enter Access Code</h3>
      <p>Only BS4232 or cs are accepted</p>
      <div class="code-row">
        <input id="codeInput" inputmode="text" autocomplete="off" placeholder="Enter code" />
      </div>
      <div class="row-actions">
        <button class="btn primary" id="submitBtn">Submit</button>
        <button class="btn ghost" id="cancelBtn">Cancel</button>
      </div>
      <div id="codeError" class="error" style="display:none"></div>
    </div>
  </div>

  <!-- loader -->
  <div id="loaderWrap" class="loader" aria-hidden="true">
    <div class="terminal" role="status">
      <div class="term-head">
        <img src="1.png" alt="logo" />
        <div style="font-weight:700;color:var(--gold)">Brilliant Students - Secure Loader</div>
      </div>
      <div id="typed" class="typed"></div>
      <div class="progress" aria-hidden="true"><i id="progressBar"></i></div>
      <button id="loaderCancel" class="loader-cancel">Cancel</button>
    </div>
  </div>

  <script>
    // Allowed codes
    const ALLOWED = ['BS4232','CS'];
    let mode = null;
    let canceled = false;

    // Elements
    const overlay = document.getElementById('overlay');
    const codeInput = document.getElementById('codeInput');
    const submitBtn = document.getElementById('submitBtn');
    const cancelBtn = document.getElementById('cancelBtn');
    const codeError = document.getElementById('codeError');

    const loaderWrap = document.getElementById('loaderWrap');
    const typedEl = document.getElementById('typed');
    const progressBar = document.getElementById('progressBar');
    const loaderCancel = document.getElementById('loaderCancel');

    // Start flow when option selected
    function start(which){
      mode = which; // 'most' or 'exact'
      codeInput.value = '';
      codeError.style.display = 'none';
      overlay.style.display = 'flex';
      codeInput.focus();
      // prevent page scroll while modal open
      document.body.style.overflow = 'hidden';
    }

    // Close overlay
    function closeOverlay(){ overlay.style.display = 'none'; document.body.style.overflow = ''; }

    cancelBtn.addEventListener('click', ()=>{ closeOverlay(); });

    // Submit code
    submitBtn.addEventListener('click', submitCode);
    codeInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') submitCode(); });

    function submitCode(){
      const val = (codeInput.value || '').trim().toUpperCase();
      if(!val){ showError('Please enter access code'); return; }
      if(!ALLOWED.includes(val)){ showError('Invalid code'); return; }
      // valid
      closeOverlay();
      startLoader();
    }

    function showError(msg){ codeError.textContent = msg; codeError.style.display = 'block'; }

    // Loader sequence with typing + erase
    function wait(ms){ return new Promise(res=>setTimeout(res,ms)); }

    async function typeText(text, speed=30){
      typedEl.textContent = '';
      for(let i=0;i<=text.length;i++){
        if(canceled) return false;
        typedEl.textContent = text.substring(0,i);
        await wait(speed);
      }
      return true;
    }

    async function eraseText(speed=18){
      const t = typedEl.textContent;
      for(let i=t.length;i>=0;i--){
        if(canceled) return false;
        typedEl.textContent = t.substring(0,i);
        await wait(speed);
      }
      return true;
    }

    async function startLoader(){
      canceled = false;
      loaderWrap.style.display = 'flex';
      loaderWrap.setAttribute('aria-hidden','false');
      progressBar.style.width = '0%';

      const steps = [
        'Initializing modules...',
        'Checking access keys...',
        'Loading Drive links...',
        'Preparing secure view...'
      ];

      for(let i=0;i<steps.length;i++){
        const ok = await typeText(steps[i]);
        if(!ok) break;
        await wait(450);
        const ok2 = await eraseText();
        if(!ok2) break;
        progressBar.style.width = `${(i+1)/steps.length*80}%`;
      }

      if(canceled){ loaderWrap.style.display='none'; loaderWrap.setAttribute('aria-hidden','true'); return; }

      // final non-erasing messages
      await typeText('Verifying your id... found: Chandana SR', 28);
      progressBar.style.width = '92%';
      await wait(700);
      typedEl.textContent += '\nRedirecting...';
      progressBar.style.width = '100%';

      await wait(700);
      // hide loader and show result
      loaderWrap.style.display = 'none';
      loaderWrap.setAttribute('aria-hidden','true');
      showResult();
    }

    loaderCancel.addEventListener('click', ()=>{ canceled = true; loaderWrap.style.display='none'; loaderWrap.setAttribute('aria-hidden','true'); showResult(true); });

    // Show result for selected mode. If skip flag true (cancelled loader), still show.
    function showResult(skip=false){
      const result = document.getElementById('result');
      result.innerHTML = '';

      const modules = {
        1: 'https://drive.google.com/file/d/1_78tpmdhuzqmFL6mAa222bYi3RfBC6UE/view?usp=drive_link',
        2: 'https://drive.google.com/file/d/1DJyoD6NZdU6R6WF-lIypqTohDIQorvE1/view?usp=drive_link',
        3: 'https://drive.google.com/file/d/1LA6XI2DgcT_5U-qBLS4sKu_iGpLexOcf/view?usp=drive_link',
        4: 'https://drive.google.com/file/d/1PdYvghq_OD1HABpN2jK7WxvZcQ_OXGjD/view?usp=drive_link',
        5: 'https://drive.google.com/file/d/19Fq4uzcfJ44-C1wfwqDZOZ7IAGas5ENh/view?usp=drive_link'
      };

      if(mode === 'most'){
        const h = document.createElement('h2'); h.textContent = 'Most Important Questions'; h.style.color = 'var(--gold)'; h.style.marginTop='14px'; h.style.fontSize='18px';
        const p = document.createElement('p'); p.textContent = 'Click a module to open the example Drive file'; p.style.color='var(--muted)'; p.style.marginTop='6px';
        result.appendChild(h); result.appendChild(p);

        const list = document.createElement('div'); list.className = 'module-list';
        for(const k in modules){
          const card = document.createElement('div'); card.className = 'module-card';
          card.innerHTML = `<div class="module-title">📘 Module ${k}</div><div class="module-arrow">➔</div>`;
          card.addEventListener('click', ()=>window.open(modules[k],'_blank'));
          list.appendChild(card);
        }
        result.appendChild(list);
      } else {
        // exact theme
        document.getElementById('app').classList.add('exact-theme');
        const h = document.createElement('h2'); h.textContent = 'Exact Answers'; h.style.color = 'var(--gold-2)'; h.style.marginTop='14px'; h.style.fontSize='18px';
        const p = document.createElement('p'); p.textContent = 'Click a module to open the example Drive file'; p.style.color='var(--muted)'; p.style.marginTop='6px';
        result.appendChild(h); result.appendChild(p);

        const list = document.createElement('div'); list.className = 'module-list';
        for(const k in modules){
          const card = document.createElement('div'); card.className = 'module-card';
          card.innerHTML = `<div class="module-title">📚 Module ${k}</div><div class="module-arrow">➔</div>`;
          card.addEventListener('click', ()=>window.open(modules[k],'_blank'));
          list.appendChild(card);
        }
        result.appendChild(list);
      }

      // add back to top / choose another button
      const nav = document.createElement('div'); nav.style.marginTop='14px';
      const btn = document.createElement('button'); btn.className='btn ghost'; btn.textContent='Choose another view'; btn.style.padding='10px 14px';
      btn.addEventListener('click', ()=>{ document.getElementById('result').innerHTML=''; document.getElementById('app').classList.remove('exact-theme'); window.scrollTo({top:0,behavior:'smooth'}); });
      nav.appendChild(btn);
      result.appendChild(nav);

      // ensure page scrolls to results on mobile
      setTimeout(()=>{ result.scrollIntoView({behavior:'smooth', block:'start'}); },80);

      // restore page scroll
      document.body.style.overflow = '';
    }

    // accessibility: close overlay on ESC
    document.addEventListener('keydown',(e)=>{ if(e.key==='Escape'){ if(overlay.style.display==='flex'){ closeOverlay(); } else if(loaderWrap.style.display==='flex'){ canceled=true; loaderWrap.style.display='none'; loaderWrap.setAttribute('aria-hidden','true'); showResult(true); } } });

  </script>
</body>
</html>
