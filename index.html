<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>18CS55 – Brilliant Students Portal</title>
  <style>
    :root{
      --bg-1:#003b1f;
      --bg-2:#002e18;
      --card:#06482e;
      --gold:#f4c06f;
      --gold-2:#ffd58a;
      --text:#f0f6ec;
      --muted:#cfe3d1;
      --shadow: rgba(0,0,0,0.24);
    }

    /* remove default tap highlight on mobile (fixes the "blue cover" on tap) */
    *{ -webkit-tap-highlight-color: transparent; }

    /* Reset and base */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{font-family:"Segoe UI",Tahoma,Arial,sans-serif;background:linear-gradient(180deg,var(--bg-1),var(--bg-2));color:var(--text);-webkit-font-smoothing:antialiased;overflow-x:hidden}

    /* Page wrapper */
    .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:18px}
    .card{width:100%;max-width:980px;background:var(--card);border-radius:14px;padding:20px 20px 28px;box-shadow:0 12px 36px var(--shadow);border:1px solid rgba(255,255,255,0.03)}

    /* Header */
    .header{display:flex;align-items:center;gap:16px}
    .logo{width:78px;height:78px;border-radius:50%;border:3px solid var(--gold);object-fit:cover}
    .head-text{display:flex;flex-direction:column}
    .subject{font-size:20px;font-weight:700;color:var(--gold);line-height:1}
    .subtext{font-size:13px;color:var(--muted);margin-top:4px}

    /* Choice cards */
    .intro{margin-top:16px;font-size:13px;color:var(--muted)}
    .choice-row{display:flex;gap:14px;margin-top:16px;flex-wrap:wrap}
    .choice{flex:1 1 260px;background:linear-gradient(180deg,#045a36,#006640);padding:16px;border-radius:11px;border-left:6px solid var(--gold);cursor:pointer;transition:transform .18s ease, box-shadow .18s ease;touch-action:manipulation}
    .choice:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(0,0,0,0.28)}
    .choice:active{transform:translateY(-2px)}
    .choice:focus{outline:none;box-shadow:0 12px 30px rgba(0,0,0,0.28), 0 0 0 4px rgba(244,192,111,0.12)}
    .choice .title{font-weight:700;color:var(--gold);font-size:15px}
    .choice .desc{font-size:12px;color:var(--muted);margin-top:6px}

    /* result area */
    #result{margin-top:18px}

    /* Module list */
    .module-list{margin-top:18px;display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
    .module-card{background:#1a3329;padding:12px 14px;border-radius:12px;display:flex;align-items:center;justify-content:space-between;cursor:pointer;border-left:6px solid var(--gold);transition:transform .12s ease;touch-action:manipulation}
    .module-card:hover{transform:translateY(-4px);box-shadow:0 10px 26px rgba(0,0,0,0.26)}
    .module-card:active{transform:translateY(-2px)}
    .module-card:focus{outline:none;box-shadow:0 10px 26px rgba(0,0,0,0.26), 0 0 0 4px rgba(255,213,138,0.08)}
    .module-title{font-weight:700;color:var(--gold);font-size:14px;display:flex;align-items:center;gap:10px}
    .module-arrow{font-size:16px;color:var(--gold)}

    /* Exact answers theme (applies when exact-mode) */
    .exact-theme .module-card{background:#283a35;border-left-color:var(--gold-2)}
    .exact-theme .module-title{color:var(--gold-2)}

    /* Footer */
    footer{margin-top:18px;font-size:12px;color:#bfcfbf;text-align:center}

    /* Overlay - code input */
    .overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.55);z-index:80;padding:18px}
    .prompt{width:100%;max-width:420px;background:var(--card);border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 12px 30px rgba(0,0,0,0.45)}
    .prompt h3{font-size:16px;color:var(--gold);margin-bottom:8px}
    .prompt p{font-size:13px;color:var(--muted);margin-bottom:12px}
    .code-row{display:flex;gap:8px}
    .code-row input{flex:1;padding:12px 14px;border-radius:10px;border:1px solid rgba(0,0,0,0.3);font-size:15px;color:#08221a;background:#fff;outline:none}
    .code-row input:focus{box-shadow:0 6px 18px rgba(0,0,0,0.35);border-color:rgba(0,0,0,0.45)}
    .row-actions{display:flex;gap:8px;margin-top:12px}
    .btn{padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
    .btn.primary{background:var(--gold);color:#052}
    .btn.ghost{background:transparent;color:var(--gold);border:1px solid rgba(255,255,255,0.04)}
    .btn:focus{outline:none;box-shadow:0 8px 22px rgba(0,0,0,0.36), 0 0 0 4px rgba(244,192,111,0.08)}
    .error{color:#ffb3b3;margin-top:8px;font-size:13px}

    /* Loader screen */
    .loader{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:linear-gradient(180deg,#001b12,#00221a);z-index:90;padding:18px}
    .terminal{width:100%;max-width:520px;background:#05130a;color:#bff9d4;border-radius:12px;padding:18px;box-shadow:0 16px 50px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.02);font-family:ui-monospace,SFMono-Regular,Menlo,monospace}
    .term-head{display:flex;align-items:center;gap:12px}
    .term-head img{width:40px;height:40px;border-radius:8px;border:1px solid rgba(255,255,255,0.03)}
    .typed{white-space:pre-wrap;font-size:14px;min-height:72px;margin-top:12px}
    .progress{height:8px;background:#072a1f;border-radius:8px;margin-top:12px;overflow:hidden}
    .progress>i{width:0%;height:100%;background:linear-gradient(90deg,#a9f7c6,#4adf9a);display:block;transition:width .5s ease}
    .loader-cancel{margin-top:12px;background:#ff5a5a;border-radius:8px;padding:10px 12px;border:none;color:white;cursor:pointer}

    /* Responsive adjustments */
    @media (max-width:640px){
      .header{flex-direction:column;align-items:center;text-align:center}
      .logo{width:64px;height:64px}
      .subject{font-size:18px}
      .choice{padding:12px}
      .module-title{font-size:13px}
      .prompt{padding:14px}
      .code-row input{padding:10px;font-size:14px}
      .terminal{padding:14px}
      .typed{font-size:13px}
    }

    /* prevent browser autofill weirdness */
    input:-webkit-autofill, input:-webkit-autofill:hover, input:-webkit-autofill:focus{box-shadow:0 0 0 30px #fff inset !important;-webkit-text-fill-color:#052 !important}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="app">
      <div class="header">
        <img src="1.png" class="logo" alt="logo">
        <div class="head-text">
          <div class="subject">Subject Code: 18CS55</div>
          <div class="subtext">Application Development using Python</div>
        </div>
      </div>

      <div class="intro">Choose an option below to continue</div>

      <div class="choice-row">
        <div class="choice" id="btn-most" role="button" tabindex="0" data-mode="most">
          <div class="title">Most Important Questions</div>
          <div class="desc">Shortlist of highest priority questions for last-minute revision</div>
        </div>

        <div class="choice" id="btn-exact" role="button" tabindex="0" data-mode="exact">
          <div class="title">Exact Answers for All Questions</div>
          <div class="desc">Complete answers with a slightly different visual style</div>
        </div>
      </div>

      <div id="result"></div>

      <footer>© 2025 Brilliant Students</footer>
    </div>
  </div>

  <!-- access code overlay -->
  <div id="overlay" class="overlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="prompt">
      <h3>Enter Access Code</h3>
      <div class="code-row">
        <input id="codeInput" inputmode="text" autocomplete="off" placeholder="Enter code" />
      </div>
      <div class="row-actions">
        <button class="btn primary" id="submitBtn">Submit</button>
        <button class="btn ghost" id="cancelBtn">Cancel</button>
      </div>
      <div id="codeError" class="error" style="display:none"></div>
    </div>
  </div>

  <!-- loader -->
  <div id="loaderWrap" class="loader" aria-hidden="true">
    <div class="terminal" role="status">
      <div class="term-head">
        <img src="1.png" alt="logo" />
        <div style="font-weight:700;color:var(--gold)">Brilliant Students verification</div>
      </div>
      <div id="typed" class="typed"></div>
      <div class="progress" aria-hidden="true"><i id="progressBar"></i></div>
      <button id="loaderCancel" class="loader-cancel">Cancel</button>
    </div>
  </div>

  <script>
    // Allowed codes
    const ALLOWED = ['BS4232','CS'];
    let mode = null;
    let canceled = false;

    // Elements
    const overlay = document.getElementById('overlay');
    const codeInput = document.getElementById('codeInput');
    const submitBtn = document.getElementById('submitBtn');
    const cancelBtn = document.getElementById('cancelBtn');
    const codeError = document.getElementById('codeError');

    const loaderWrap = document.getElementById('loaderWrap');
    const typedEl = document.getElementById('typed');
    const progressBar = document.getElementById('progressBar');
    const loaderCancel = document.getElementById('loaderCancel');

    // Replace these arrays with your real Drive links.
    // Most important questions (5 links)
    const modulesMost = [
      'https://drive.google.com/file/d/1_78tpmdhuzqmFL6mAa222bYi3RfBC6UE/view?usp=sharing',
      'https://drive.google.com/file/d/1DJyoD6NZdU6R6WF-lIypqTohDIQorvE1/view?usp=sharing',
      'https://drive.google.com/file/d/1LA6XI2DgcT_5U-qBLS4sKu_iGpLexOcf/view?usp=sharing',
      'https://drive.google.com/file/d/1PdYvghq_OD1HABpN2jK7WxvZcQ_OXGjD/view?usp=sharing',
      'https://drive.google.com/file/d/19Fq4uzcfJ44-C1wfwqDZOZ7IAGas5ENh/view?usp=sharing'
    ];

    // Exact answers (5 different links) - change these to your exact-answer Drive links
    const modulesExact = [
      'https://drive.google.com/file/d/15izV3kpDkC-U7L8bG_q-A6P9Yh54SXoF/view?usp=sharing',
      'https://drive.google.com/file/d/16yNXQJY4yy5GI6FhMDp1zYa4ESwV34ha/view?usp=sharing',
      'https://drive.google.com/file/d/1l9Mz-pJDgZdHhvuMI1gL5d8L1Erwg-5E/view?usp=sharing',
      'https://drive.google.com/file/d/1-xeJL00bWoIamfmyK3HY5UnxesIu0RH-/view?usp=sharing',
      'b'
    ];

    // Start flow when option selected
    function start(which){
      mode = which; // 'most' or 'exact'
      codeInput.value = '';
      codeError.style.display = 'none';
      overlay.style.display = 'flex';
      overlay.setAttribute('aria-hidden','false');
      codeInput.focus();
      // prevent page scroll while modal open
      document.body.style.overflow = 'hidden';
    }

    // make keyboard activation for choice cards
    document.querySelectorAll('.choice').forEach(el => {
      el.addEventListener('click', ()=> start(el.dataset.mode));
      el.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); start(el.dataset.mode); }
      });
    });

    // Close overlay
    function closeOverlay(){
      overlay.style.display = 'none';
      overlay.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
    }

    cancelBtn.addEventListener('click', ()=>{ closeOverlay(); });

    // Submit code
    submitBtn.addEventListener('click', submitCode);
    codeInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') submitCode(); });

    function submitCode(){
      const val = (codeInput.value || '').trim().toUpperCase();
      if(!val){ showError('Please enter access code'); return; }
      if(!ALLOWED.includes(val)){ showError('Invalid code'); return; }
      // valid
      closeOverlay();
      startLoader();
    }

    function showError(msg){ codeError.textContent = msg; codeError.style.display = 'block'; }

    // Loader sequence with typing + erase
    function wait(ms){ return new Promise(res=>setTimeout(res,ms)); }

    async function typeText(text, speed=30){
      typedEl.textContent = '';
      for(let i=0;i<=text.length;i++){
        if(canceled) return false;
        typedEl.textContent = text.substring(0,i);
        await wait(speed);
      }
      return true;
    }

    async function eraseText(speed=18){
      const t = typedEl.textContent;
      for(let i=t.length;i>=0;i--){
        if(canceled) return false;
        typedEl.textContent = t.substring(0,i);
        await wait(speed);
      }
      return true;
    }

    // Reset UI back to top/home state
    function resetToHome(){
      canceled = false;
      mode = null;

      // hide overlay and loader if visible
      overlay.style.display = 'none';
      overlay.setAttribute('aria-hidden','true');
      loaderWrap.style.display = 'none';
      loaderWrap.setAttribute('aria-hidden','true');

      // clear result area
      const result = document.getElementById('result');
      result.innerHTML = '';

      // show choices again
      const choiceRow = document.querySelector('.choice-row');
      const intro = document.querySelector('.intro');
      if(choiceRow) choiceRow.style.display = '';
      if(intro) intro.style.display = '';

      // remove exact theme if applied
      document.getElementById('app').classList.remove('exact-theme');

      // restore scrolling
      document.body.style.overflow = '';

      // focus first choice for accessibility
      const firstChoice = document.querySelector('.choice');
      if(firstChoice){ firstChoice.focus(); }

      // scroll to top of card
      document.getElementById('app').scrollIntoView({behavior:'smooth'});
    }

    async function startLoader(){
      canceled = false;
      // ensure overlay closed
      overlay.style.display = 'none';
      overlay.setAttribute('aria-hidden','true');

      loaderWrap.style.display = 'flex';
      loaderWrap.setAttribute('aria-hidden','false');
      typedEl.textContent = '';
      progressBar.style.width = '0%';

      const steps = [
        'Initializing modules...',
        'Checking access keys...',
        'Loading Drive links...',
        'Preparing secure view...'
      ];

      for(let i=0;i<steps.length;i++){
        const ok = await typeText(steps[i]);
        if(!ok) { resetToHome(); return; }
        await wait(450);
        const ok2 = await eraseText();
        if(!ok2) { resetToHome(); return; }
        progressBar.style.width = `${(i+1)/steps.length*80}%`;
      }

      if(canceled){ resetToHome(); return; }

      // final non-erasing messages
      const okFinal = await typeText('Verifying your id... found: Chandana SR', 28);
      if(!okFinal){ resetToHome(); return; }
      progressBar.style.width = '92%';
      await wait(700);
      typedEl.textContent += '\nRedirecting...';
      progressBar.style.width = '100%';

      await wait(700);
      // hide loader and show result
      loaderWrap.style.display = 'none';
      loaderWrap.setAttribute('aria-hidden','true');
      showResult();
    }

    loaderCancel.addEventListener('click', ()=>{
      // user clicks cancel while processing -> go back to home
      canceled = true;
      resetToHome();
    });

    // hide choice area and intro when showing result so only selected materials are shown
    function hideChoiceTop(){
      const choiceRow = document.querySelector('.choice-row');
      const intro = document.querySelector('.intro');
      if(choiceRow) choiceRow.style.display = 'none';
      if(intro) intro.style.display = 'none';
    }

    // Show result for selected mode. If skip flag true (cancelled loader), still show.
    function showResult(skip=false){
      hideChoiceTop(); // ensure top choices removed on result

      const result = document.getElementById('result');
      result.innerHTML = '';

      const list = document.createElement('div');
      list.className = 'module-list';

      const chosen = (mode === 'most') ? modulesMost : modulesExact;

      if(mode === 'most'){
        // header for chosen view
        const h = document.createElement('h2'); h.textContent = 'Most Important Questions'; h.style.color = 'var(--gold)'; h.style.marginTop='14px'; h.style.fontSize='18px';
        const p = document.createElement('p'); p.textContent = 'Select the Modules & Access'; p.style.color='var(--muted)'; p.style.marginTop='6px';
        result.appendChild(h); result.appendChild(p);

        for(let i=0;i<chosen.length;i++){
          const k = i+1;
          const card = document.createElement('div'); card.className = 'module-card';
          card.innerHTML = `<div class="module-title">📘 Module ${k}</div><div class="module-arrow">➔</div>`;
          card.tabIndex = 0;
          card.setAttribute('role','button');
          const link = chosen[i];
          card.addEventListener('click', ()=> window.open(link, '_blank'));
          card.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); window.open(link, '_blank'); } });
          list.appendChild(card);
        }

        result.appendChild(list);
      } else {
        // exact theme
        document.getElementById('app').classList.add('exact-theme');
        const h = document.createElement('h2'); h.textContent = 'Exact Answers for Questions'; h.style.color = 'var(--gold-2)'; h.style.marginTop='14px'; h.style.fontSize='18px';
        const p = document.createElement('p'); p.textContent = 'Select the Modules & Access'; p.style.color='var(--muted)'; p.style.marginTop='6px';
        result.appendChild(h); result.appendChild(p);

        for(let i=0;i<chosen.length;i++){
          const k = i+1;
          const card = document.createElement('div'); card.className = 'module-card';
          card.innerHTML = `<div class="module-title">📚 Module ${k}</div><div class="module-arrow">➔</div>`;
          card.tabIndex = 0;
          card.setAttribute('role','button');
          const link = chosen[i];
          card.addEventListener('click', ()=> window.open(link, '_blank'));
          card.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); window.open(link, '_blank'); } });
          list.appendChild(card);
        }

        result.appendChild(list);
      }

      // Add a Home button after successful login/result so users can return
      const actions = document.createElement('div');
      actions.style.marginTop = '14px';
      const homeBtn = document.createElement('button');
      homeBtn.className = 'btn ghost';
      homeBtn.textContent = 'Home';
      homeBtn.addEventListener('click', resetToHome);
      homeBtn.addEventListener('keydown', (e)=>{ if(e.key==='Enter') resetToHome(); });
      actions.appendChild(homeBtn);
      result.appendChild(actions);

      // ensure page scrolls to results on mobile
      setTimeout(()=>{ result.scrollIntoView({behavior:'smooth', block:'start'}); },80);

      // restore page scroll
      document.body.style.overflow = '';
    }

    // accessibility: close overlay on ESC
    document.addEventListener('keydown',(e)=>{ 
      if(e.key==='Escape'){
        if(overlay.style.display==='flex'){ closeOverlay(); } 
        else if(loaderWrap.style.display==='flex'){ canceled=true; resetToHome(); }
      } 
    });
  </script>
</body>
</html>


